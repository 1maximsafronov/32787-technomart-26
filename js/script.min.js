var slider=document.querySelector(".promo__slider");function sliderAnimation(e){var a=e.querySelectorAll(".slider__item"),l=e.querySelectorAll(".slider__dot"),c=0,d=a[c],u=l[c];d.classList.add("slider__item--show"),d.classList.add("slider__dot--active"),e.addEventListener("click",function(e){var t=c,r=e.target,s=r.classList.contains("slider__control--prev"),i=r.classList.contains("slider__control--next"),o=r.classList.contains("slider__dot");if(s&&(c=(c-1)%a.length),i&&(c=(c+1)%a.length),o)for(var n=0;n<l.length;n++)r===l[n]&&(c=n);c<0&&(c=a.length-1),c!=t&&function(e){d.classList.remove("slider__item--show"),a[e].classList.add("slider__item--show"),d=a[e],u.classList.remove("slider__dot--active"),l[e].classList.add("slider__dot--active"),u=l[e]}(c)})}slider&&sliderAnimation(slider);var services=document.querySelector(".services");if(services){var servicesMenu=services.querySelectorAll(".menu-services__item"),servicesSlides=services.querySelectorAll(".menu-services__desc-item"),activeSevicesMenu=servicesMenu[0],activeServicesSlide=servicesSlides[0];function changeServicesSlide(t,r){t.addEventListener("click",function(e){e.preventDefault(),activeSevicesMenu.classList.remove("menu-services__item--active"),(activeSevicesMenu=t).classList.add("menu-services__item--active"),activeServicesSlide.classList.remove("menu-services__desc-item--show"),(activeServicesSlide=r).classList.add("menu-services__desc-item--show")})}if(activeSevicesMenu.classList.add("menu-services__item--active"),activeServicesSlide.classList.add("menu-services__desc-item--show"),servicesMenu.length<=servicesSlides.length)for(var i=0;i<servicesMenu.length;i++)changeServicesSlide(servicesMenu[i],servicesSlides[i])}var modals=document.querySelectorAll(".modal"),mapLink=document.querySelector(".contacts__map-link"),writeUsLink=document.querySelector(".contacts__write-us"),mapModal=document.querySelector(".modal-map"),writeUsModal=document.querySelector(".modal-write-us");function closeModal(t){var r=t.querySelector(".modal__close");t.addEventListener("click",function(e){e.target==r&&(e.preventDefault(),t.classList.remove("modal--show"))})}mapLink&&mapLink.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal--show")}),writeUsLink&&writeUsLink.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.add("modal--show"),writeUsModal.querySelector('[name = "name"]').focus()});for(i=0;i<modals.length;i++)closeModal(modals[i]);if(document.addEventListener("keydown",function(e){if(27===e.keyCode){e.preventDefault();for(var t=0;t<modals.length;t++)modals[t].classList.remove("modal--show")}}),writeUsModal){var writeUsForm=writeUsModal.querySelector(".modal-write-us__form");writeUsForm.addEventListener("submit",function(e){var t=writeUsForm.querySelector('[name = "name"]'),r=writeUsForm.querySelector('[email = "email"]'),s=writeUsForm.querySelector('[name = "wrtie-us-text"]');t.value&&r.value&&s.value||(e.preventDefault(),writeUsModal.classList.remove("modal-write-us--error"),writeUsModal.offsetWidth=writeUsModal.offsetWidth,writeUsModal.classList.add("modal-write-us--error"))})}var products=document.querySelector(".products");if(products){var productsArr=products.querySelectorAll(".products__item"),addToCartModal=document.querySelector(".modal-add-in-cart");function addToCart(e){e.querySelector(".products__buy").addEventListener("click",function(e){e.preventDefault(),addToCartModal.classList.add("modal--show")})}if(addToCartModal)for(i=0;i<productsArr.length;i++)addToCart(productsArr[i])}var rangeControls=document.querySelector(".range-controls");if(rangeControls){var startPointMin,startPointMax,rangeToggleMin=rangeControls.querySelector(".range-controls__toggle--min"),rangeToggleMax=rangeControls.querySelector(".range-controls__toggle--max"),rangeBar=rangeControls.querySelector(".range-controls__bar"),inputMinPrice=document.querySelector("#filter-min-price"),inputMaxPrice=document.querySelector("#filter-max-price");rangeToggleMin.addEventListener("mousedown",function(e){function r(e){e.preventDefault(),console.log("works");var t=startPointMin-e.clientX;startPointMin=e.clientX,20<=rangeToggleMin.offsetLeft-t&&rangeToggleMin.offsetLeft-t<=180&&(rangeToggleMin.style.left=rangeToggleMin.offsetLeft-t+"px",rangeBar.style.marginLeft=rangeToggleMin.style.left,inputMinPrice.value=Math.round(4e4/180*(rangeToggleMin.offsetLeft-t-20)))}e.preventDefault(),startPointMin=e.clientX,document.addEventListener("mousemove",r),document.addEventListener("mouseup",function e(t){t.preventDefault(),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)})}),rangeToggleMax.addEventListener("mousedown",function(e){function r(e){e.preventDefault(),console.log("works");var t=startPointMax-e.clientX;startPointMax=e.clientX,20<=rangeToggleMax.offsetLeft-t&&rangeToggleMax.offsetLeft-t<=180&&(rangeToggleMax.style.left=rangeToggleMax.offsetLeft-t+"px",rangeBar.style.marginRight=200-(rangeToggleMax.offsetLeft-t)+"px",inputMaxPrice.value=Math.round(4e4/180*(rangeToggleMax.offsetLeft-t-20)))}e.preventDefault(),startPointMax=e.clientX,document.addEventListener("mousemove",r),document.addEventListener("mouseup",function e(t){t.preventDefault(),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)})})}
